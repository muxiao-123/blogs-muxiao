<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ts项目 | Blogs-Muxiao</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="map map map good good">
    
    <link rel="preload" href="/blogs-muxiao/dist/assets/css/0.styles.0619ee3f.css" as="style"><link rel="preload" href="/blogs-muxiao/dist/assets/js/app.08a0bec7.js" as="script"><link rel="preload" href="/blogs-muxiao/dist/assets/js/2.78b8a33c.js" as="script"><link rel="preload" href="/blogs-muxiao/dist/assets/js/11.b30c08a7.js" as="script"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/10.463e85db.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/12.424e36e3.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/13.1af5f6b2.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/14.9eb32032.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/15.6d945810.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/16.510e3c04.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/17.fc6ebf64.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/18.03797731.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/19.b50ef5e7.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/20.a7ad8721.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/21.f480af4d.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/22.361b2fa4.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/23.eea5fdca.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/24.3a905360.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/25.1026cefa.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/26.f1c86ef0.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/27.45ccf194.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/28.ca5581ec.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/29.958d3dc1.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/3.3eb22346.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/30.0f788922.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/31.815636a0.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/32.75f481fc.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/33.4f964b9b.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/34.93743e4c.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/35.987c0b2f.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/36.3e5df56b.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/37.88fa2c53.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/38.fcbdcaf2.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/39.70e5c939.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/4.26f73e91.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/5.5dcec586.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/6.f2a96706.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/7.ba72b951.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/8.b27daf9c.js"><link rel="prefetch" href="/blogs-muxiao/dist/assets/js/9.f74662b6.js">
    <link rel="stylesheet" href="/blogs-muxiao/dist/assets/css/0.styles.0619ee3f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blogs-muxiao/dist/" class="home-link router-link-active"><!----> <span class="site-name">Blogs-Muxiao</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blogs-muxiao/dist/eslint/mine/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs-muxiao/dist/eslint/mine/" class="nav-link">
  Chinese
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blogs-muxiao/dist/eslint/mine/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs-muxiao/dist/eslint/mine/" class="nav-link">
  Chinese
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Mine</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Css</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Html</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Typescript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue3</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vite</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Eslint</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blogs-muxiao/dist/eslint/" aria-current="page" class="sidebar-link">Eslint</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blogs-muxiao/dist/eslint/auto-commit.html" aria-current="page" class="active sidebar-link">自动提交</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blogs-muxiao/dist/eslint/auto-commit.html#ts项目" class="sidebar-link">ts项目</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Plugins</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Markdown</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Issues</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>no-base</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="ts项目"><a href="#ts项目" class="header-anchor">#</a> ts项目</h2> <h3 id="配合husky"><a href="#配合husky" class="header-anchor">#</a> 配合husky</h3> <p><code>npm pkg set &lt;command&gt;=&quot;cmd&quot;</code> <code>npm pkg set scripts.prepare=&quot;husky install&quot;</code></p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> set-script prepare <span class="token string">&quot;husky install&quot;</span>
<span class="token function">npm</span> run prepare
</code></pre></div><p>Add a hook:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>npx husky <span class="token function">add</span> .husky/pre-commit <span class="token string">&quot;npm test&quot;</span>
<span class="token function">git</span> <span class="token function">add</span> .husky/pre-commit
</code></pre></div><p>Make a commit:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">&quot;Keep calm and commit&quot;</span>
<span class="token comment"># `npm test` will run</span>
</code></pre></div><h3 id="配合commitlint"><a href="#配合commitlint" class="header-anchor">#</a> 配合commitlint</h3> <div class="language- extra-class"><pre class="language-text"><code>install @commitlint/cli @commitlint/config-conventional
</code></pre></div><div class="language-sh extra-class"><pre class="language-sh"><code>npx husky <span class="token function">add</span> .husky/commit-msg <span class="token string">'npx --no-install commitlint --edit &quot;$1&quot;'</span>
</code></pre></div><ul><li>husky 提交前钩子 执行lint操作</li> <li>commitlint 规范 提交注释</li></ul> <h3 id="例子"><a href="#例子" class="header-anchor">#</a> 例子</h3> <ul><li>type(scope?): subject  #scope is optional; multiple scopes are supported (current delimiter options: &quot;/&quot;, &quot;&quot; and &quot;,&quot;)</li> <li>chore: some somepage</li></ul> <h3 id="type"><a href="#type" class="header-anchor">#</a> type</h3> <ul><li>build 版本</li> <li>chore 日常</li> <li>ci</li> <li>docs 文档</li> <li>feat</li> <li>fix 修复</li> <li>perf</li> <li>refactor</li> <li>revert</li> <li>style</li> <li>test 测试</li></ul> <h3 id="配合-lint-staged"><a href="#配合-lint-staged" class="header-anchor">#</a> 配合 lint-staged</h3> <ul><li>在代码提交之前，进行代码规则检查能够确保进入git库的代码都是符合代码规则的</li> <li>但是整个项目上运行lint速度会很慢</li> <li>lint-staged能够让lint只检测暂存区的文件</li> <li>速度快
pre-commit hook 做某些事情</li></ul> <div class="language- extra-class"><pre class="language-text"><code>lint-staged: { '*': [command] }
</code></pre></div><h3 id="配合-prettier-格式化代码"><a href="#配合-prettier-格式化代码" class="header-anchor">#</a> 配合 prettier 格式化代码</h3> <p>--write 格式化 修改源代码</p> <div class="language- extra-class"><pre class="language-text"><code>pretiter: {
  &quot;semi&quot;: false,
  &quot;singleQuote&quot;: true
}
</code></pre></div><h3 id="eslint-搭配-typescript-airbnb-prettier"><a href="#eslint-搭配-typescript-airbnb-prettier" class="header-anchor">#</a> eslint 搭配 typescript airbnb prettier</h3> <h4 id="npm包作用"><a href="#npm包作用" class="header-anchor">#</a> npm包作用</h4> <div class="language- extra-class"><pre class="language-text"><code>eslint typescript @typescript-eslint/parser @typescript-eslint/eslint-plugin
eslint-config-airbnb eslint-config-airbnb-typescript
eslint-config-prettier eslint-plugin-prettier
</code></pre></div><ol><li><p><code>@typescript-eslint/parser</code> 提取js代码供eslint检查 默认解释器为 <code>estree</code> 与<code>@typescript-eslint/parser</code> 兼容</p></li> <li><p><code>@typescript-eslint/eslint-plugin</code> 提供一个标准的内置rules配置 可在extends中直接使用
<code>/eslint-recommended</code> <code>/recommended</code> 可能有问题 can't not resolve #/define**/* from id 问题 路径解析出问题？
eslint-config-import eslint-config-promise eslint-config-[etc]?</p></li> <li><p><code>eslint-config-airbnb</code> 提供js 检查支持（jsx也就可以）
<code>airbnb</code> 会包含对react的支持
<code>airbnb/base</code> 不会包含对react的支持</p></li> <li><p><code>eslint-config-airbnb-typescript</code> 提供对ts检查支持
<code>airbnb-typescript</code> 会包含react（jsx）的支持
<code>airbnb-typescript/base</code> 仅基础</p></li> <li><p><code>eslint-config-prettier</code> 提供对pretiier的支持(即关闭和prettier冲突的规则) = 用于禁用与prettier冲突的规则
<code>eslint-plugin-prettier</code> 使用prettier检查格式 = 将prettier当做eslint规则来运行
<code>plugin:prettier/recommended</code>
启用<code>eslint-plugin-prettier</code>
在rules中设<code>prettier/prettier</code>为error
继承<code>eslint-config-prettier</code>的配置</p></li></ol> <p><code>eslint-plugin-compat</code> 检测使用的函数是否兼容浏览器 可选</p> <h4 id="配置参考"><a href="#配置参考" class="header-anchor">#</a> 配置参考</h4> <h5 id="commitlint"><a href="#commitlint" class="header-anchor">#</a> commitlint</h5> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;extend&quot;: [&quot;@commitlint/config-conventional&quot;]
}
</code></pre></div><h5 id="eslint"><a href="#eslint" class="header-anchor">#</a> eslint</h5> <div class="language- extra-class"><pre class="language-text"><code>  {
  &quot;parser&quot;: &quot;@typescript-eslint/parser&quot;,
  &quot;parserOptions&quot;: {
    &quot;ecmaVersion&quot;: &quot;ESNext&quot;,
    &quot;sourceType&quot;: &quot;module&quot;,
    &quot;ecmaFeatures&quot;: {
      &quot;jsx&quot;: true,
      &quot;experimentalObjectRestSpread&quot;: true
    },
    &quot;project&quot;: [&quot;./tsconfig.json&quot;]
  },
  &quot;plugins&quot;: [&quot;@typescript-eslint&quot;],
  &quot;extends&quot;: [
    &quot;airbnb/base&quot;,
    &quot;airbnb-typescript/base&quot;,
    &quot;plugin:@typescript-eslint/eslint-recommended&quot;,
    &quot;plugin:prettier/recommended&quot;
  ],
  &quot;rules&quot;: {
    &quot;no-console&quot;: 0,
    &quot;eol-last&quot;: &quot;error&quot;,
    &quot;@typescript-eslint/semi&quot;: 0,
    &quot;@typescript-eslint/no-explicit-any&quot;: 0,
    &quot;no-restricted-syntax&quot;: 0,
    &quot;semi&quot;: 0
  }
}
</code></pre></div><h5 id="tsconfig"><a href="#tsconfig" class="header-anchor">#</a> tsconfig</h5> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;compilerOptions&quot;: {
    &quot;moduleResolution&quot;: &quot;node&quot;,
    &quot;target&quot;: &quot;ESNext&quot;,
    &quot;module&quot;: &quot;ESNext&quot;,
    &quot;lib&quot;: [ &quot;es2015&quot;, &quot;es2016&quot;, &quot;es2017&quot;, &quot;ES2018&quot;, &quot;dom&quot;],
    &quot;declaration&quot;: true,
    &quot;declarationDir&quot;: &quot;dist/types&quot;,
    &quot;allowSyntheticDefaultImports&quot;: true,
    &quot;experimentalDecorators&quot;: true,
    &quot;emitDecoratorMetadata&quot;: true,
    // 阻止 --noImplicitAny对缺少索引签名的索引对象报错 default false。
    // &quot;suppressImplicitAnyIndexErrors&quot;: true,
    // 禁用在函数类型里对泛型签名进行严格检查 default: false
    &quot;noStrictGenericChecks&quot;: true,
    &quot;strict&quot;: true,
    &quot;sourceMap&quot;: false,
    &quot;types&quot;: [],
    &quot;outDir&quot;: &quot;dist/lib&quot;
  },
  &quot;include&quot;: [&quot;src&quot;]
}
</code></pre></div><h5 id="lint-staged"><a href="#lint-staged" class="header-anchor">#</a> lint-staged</h5> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;*.ts&quot;: [
      &quot;prettier --write&quot;,
      &quot;git add&quot;
    ]
}
</code></pre></div><h5 id="pretiter"><a href="#pretiter" class="header-anchor">#</a> pretiter</h5> <div class="language- extra-class"><pre class="language-text"><code>  &quot;prettier&quot;: {
    &quot;semi&quot;: false,
    &quot;singleQuote&quot;: true
  },
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blogs-muxiao/dist/eslint/" class="prev router-link-active">
        Eslint
      </a></span> <span class="next"><a href="/blogs-muxiao/dist/git/">
        Git
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blogs-muxiao/dist/assets/js/app.08a0bec7.js" defer></script><script src="/blogs-muxiao/dist/assets/js/2.78b8a33c.js" defer></script><script src="/blogs-muxiao/dist/assets/js/11.b30c08a7.js" defer></script>
  </body>
</html>
